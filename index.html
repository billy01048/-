<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>체크메이트 — AI 건강 자가진단</title>
<link rel="stylesheet" href="assets/css/style.css">
<link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32.png">
</head>
<body>
<div class="wrap">

  <header>
    <div class="brand">
      <a href="/" aria-label="체크메이트 홈" class="brand-link">
        <img class="logo" src="assets/img/Whisk_1b04af24275649aa7eb438317b3ad964dr-removebg-preview.png"
             alt="체크메이트 로고 — AI 건강 자가진단" />
      </a>
      <div>
        <h1>AI 건강 자가진단 (텍스트)</h1>
        <div class="subtitle">증상 선택 → GPT에 붙여넣을 텍스트 자동 생성</div>
      </div>
    </div>
    <div class="muted small">본 도구는 의학적 진단을 제공하지 않습니다.</div>
  </header>

  <div class="layout">

    <!-- LEFT: 설정 -->
    <div class="card">
      <div class="section-title">1) 검사 설정</div>
      ...
      <div class="ad-slot" style="margin-top:16px">광고 슬롯 (좌측 하단)</div>
    </div>

    <!-- CENTER: 증상 검색 + 리스트 -->
    <div class="card">
      ...
      <div class="symptom-list" id="symptomList" tabindex="0"></div>
      <div style="margin-top:12px" class="muted">우클릭 또는 모바일 롱프레스 → 증상별 상세 설명 보기</div>
    </div>

    <!-- RIGHT: 고급 입력 & 질환 추천 -->
    <div class="card">
      <div class="section-title">3) 고급 입력 / 의심 질환(자동 추천)</div>
      <div class="muted">직접 증상 입력 또는 자동 추천된 의심 질환을 확인하세요.</div>
      <textarea id="advancedInput" placeholder="예: 2주전부터 시작한 지속적 기침, 가래에 혈이 섞임..." ></textarea>

      <div style="margin-top:12px">
        <div class="section-title">자동 추천 의심 질환</div>
        <div id="recommendedDiseases" class="chips muted small">추천 질환이 여기에 표시됩니다.</div>
      </div>

      <div style="margin-top:12px" class="section-title">광고(우측)</div>
      <div class="ad-slot" id="kakao-ad-slot">
        <!-- 삽입된 카카오 광고 인서트 -->
        <ins class="kakao_ad_area"
             style="display:none;"
             data-ad-unit="DAN-zaoVahGFL19x5VCC"
             data-ad-width="160"
             data-ad-height="600"></ins>
      </div>

    </div>

  </div>

  <footer class="footer-muted footer">
    이 도구는 의학적 진단을 제공하지 않습니다. 긴급 상황(호흡곤란, 의식 소실, 심한 흉통 등) 시 즉시 응급실을 방문하세요.
  </footer>

</div>

<!-- 상세보기 모달 -->
<div id="detailModal" class="detail-modal" role="dialog" aria-hidden="true" aria-labelledby="detailTitle" aria-describedby="detailContent">
  <button class="close" aria-label="닫기 (모달)" title="닫기">✕</button>
  <div class="title" id="detailTitle"></div>
  <div class="content" id="detailContent"></div>
</div>

<!-- 카카오 광고 스크립트 (페이지에 한 번만 포함) -->
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>

<!-- 광고 인서트 활성화 스크립트: ba.min.js 로드 후 ins 표시 보장 -->
<script>
(function ensureKakaoAdVisible(){
  // ba.min.js가 로드되면 kakao.ads가 생기거나 ins가 처리됩니다.
  // 그래도 안전하게 ins 요소를 보이게 하고, 만약 광고 스크립트가 처리하면 내부에서 override됩니다.
  function showIns(){
    const ins = document.querySelector('#kakao-ad-slot .kakao_ad_area');
    if(!ins) return;
    // show element so ba.min.js가 영역을 찾을 수 있게 함
    ins.style.display = 'block';
  }

  // onload로도 보장
  window.addEventListener('load', ()=>{
    // 약간의 지연을 줘서 ba.min.js가 먼저 초기화할 기회를 줌
    setTimeout(showIns, 800);
  });

  // 안전망: 만약 ba 스크립트가 늦게 로드되면 mutation observer로 ins 추가 감지
  const slot = document.getElementById('kakao-ad-slot');
  if(slot){
    const mo = new MutationObserver((mutations)=>{
      mutations.forEach(()=> showIns());
    });
    mo.observe(slot, {childList:true, subtree:true});
  }
})();
</script>

<script src="assets/js/app.js"></script>
</body>
</html>
